default: true
input:
  module: aws
  metricset: cloudwatch
  defaults:
    metrics:
      - namespace: AWS/S3
        statistic: ["Average"]
        name:
          - BucketSizeBytes
          - NumberOfObjects

processors:
- rename:
  ignore_missing: true
  fields:
    - from: "aws.s3.metrics.NumberOfObjects.avg"
      to: "aws.s3_daily_storage.s3_daily_storage"
    - from: "aws.s3.metrics.BucketSizeBytes.avg"
      to: "aws.s3_daily_storage.bucket.size.bytes"
